<Page x:Class="MealPlanner.Inventory"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
      xmlns:local="clr-namespace:MealPlanner"
      mc:Ignorable="d" 
      d:DesignHeight="600" d:DesignWidth="800"
      Title="Inventory"
      Background="White"
      >

    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
            <!-- Inventory Table -->
            <RowDefinition Height="Auto"/>
            <!-- Update + Day Plan Buttons -->
            <RowDefinition Height="Auto"/>
            <!-- Manual Add/Edit -->
        </Grid.RowDefinitions>

        <!-- Inventory Table -->
        <DataGrid x:Name="InventoryGrid"
          Grid.Row="0"
          AutoGenerateColumns="False"
          IsReadOnly="True"
          ItemsSource="{Binding InventoryList}" 
            Margin="0,0,0,10"
          Background="#f1faf8"
          BorderBrush="#0B525B">
            <DataGrid.Columns>
                <DataGridTextColumn Header="Ingredient" Binding="{Binding Name}" Width="*" />
                <DataGridTextColumn Header="Quantity" Binding="{Binding Inventory}" Width="Auto" />
                <DataGridTextColumn Header="Unit" Binding="{Binding Unit}" Width="Auto" />
            </DataGrid.Columns>
        </DataGrid>

        <!-- Bottom Panel: Update Inventory & Daily Cooking -->
        <Grid Grid.Row="1" Margin="0,10,0,0">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="0.8*"/>
                <ColumnDefinition Width="1.2*"/>
            </Grid.ColumnDefinitions>

            <!-- Update Inventory -->
            <StackPanel Grid.Column="0" HorizontalAlignment="Center" VerticalAlignment="Top">
                <TextBlock Text="Update with last grocery list"
                           FontSize="16"
                           Foreground="#06292e"
                           FontWeight="DemiBold"
                           Margin="0,0,0,10"
                           HorizontalAlignment="Center"/>
                <Button BorderBrush="#0B525B" Background="White" Foreground="#0B525B" FontWeight="DemiBold"
                        Content="Update Inventory"
                        Width="180"
                        Click="UpdateWithLastGroceryList_Click"/>
            </StackPanel>

            <!-- Update Daily Cooking -->
            <StackPanel Grid.Column="1" HorizontalAlignment="Center" VerticalAlignment="Top">
                <TextBlock Text="Update your daily cooking!"
                           Foreground="#06292e"
                           FontWeight="DemiBold"
                           FontSize="16"
                           Margin="0,0,0,10"
                           HorizontalAlignment="Center"/>
                <WrapPanel HorizontalAlignment="Center">
                    <Button BorderBrush="#0B525B" Background="White" Foreground="#0B525B" FontWeight="DemiBold" Content="Mon" Margin="2" Width="50" Click="DayButton_Click"/>
                    <Button BorderBrush="#0B525B" Background="White" Foreground="#0B525B" FontWeight="DemiBold" Content="Tue" Margin="2" Width="50" Click="DayButton_Click"/>
                    <Button BorderBrush="#0B525B" Background="White" Foreground="#0B525B" FontWeight="DemiBold" Content="Wed" Margin="2" Width="50" Click="DayButton_Click"/>
                    <Button BorderBrush="#0B525B" Background="White" Foreground="#0B525B" FontWeight="DemiBold" Content="Thu" Margin="2" Width="50" Click="DayButton_Click"/>
                    <Button BorderBrush="#0B525B" Background="White" Foreground="#0B525B" FontWeight="DemiBold" Content="Fri" Margin="2" Width="50" Click="DayButton_Click"/>
                    <Button BorderBrush="#0B525B" Background="White" Foreground="#0B525B" FontWeight="DemiBold" Content="Sat" Margin="2" Width="50" Click="DayButton_Click"/>
                    <Button BorderBrush="#0B525B" Background="White" Foreground="#0B525B" FontWeight="DemiBold" Content="Sun" Margin="2" Width="50" Click="DayButton_Click"/>
                </WrapPanel>
            </StackPanel>
        </Grid>

        <!-- Add/Edit Panel -->
        <StackPanel Grid.Row="2" Margin="0,20,0,0">
            <TextBlock Text="Manual Inventory Controls"
                       FontSize="16"
                       Foreground="#06292e"
                       FontWeight="DemiBold"
                       Margin="0,0,0,10"
                       HorizontalAlignment="Center"/>

            <!-- Add New Ingredient -->
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,0,0,10">
                <TextBox x:Name="NewIngredientTextBox" Width="150" Margin="5" />
                <TextBox x:Name="NewIngredientUnitTextBox" Width="100" Margin="5" />
                <Button Content="Add Ingredient"
            Width="120"
            Margin="5"
            Click="AddIngredient_Click"
            BorderBrush="#0B525B"
            Background="White"
            Foreground="#0B525B"
            FontWeight="DemiBold"/>
            </StackPanel>

            <!-- Update Quantity -->
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                <ComboBox x:Name="IngredientDropdown" Width="150" Margin="5"/>

                <TextBox x:Name="UpdatedQuantityTextBox" Width="100" Margin="5"/>
                <Button Content="Update Quantity"
                        Width="130"
                        Margin="5"
                        Click="UpdateIngredientQuantity_Click"
                        BorderBrush="#0B525B" Background="White" Foreground="#0B525B" FontWeight="DemiBold"/>
            </StackPanel>
        </StackPanel>
    </Grid>
</Page>
